<!DOCTYPE html>
<html>
<head>
    <!--<meta charset="utf-8" />-->
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />

    <!--<meta name="viewport" content="width=device-width, initial-scale=1">-->
    <meta charset="UTF-8">

    <link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css">
    <link rel="stylesheet" href="css/frog.css">

    <script src="js/jquery-1.11.3.min.js"></script>
    <script src="js/jquery.mobile-1.4.5.min.js"></script>
    <!--<script type="text/javascript" src="cordova.js"></script>-->
    <script src="abring/abring.js"></script>

    <script type="application/javascript">
        $(document).ready(function(){
            abring.init(
                {
                    "app":"ir.abring.sdk",
                    "player":{
//                        "onDataLoaded":function (player_info) {
//                            //extra actions with player data
//                            log("XXXXXXXXXXXXXXXXXXXXXXXX");
//                            log(player_info);
//                        },
//                        "showPageFunction":function (subPageID) {
//                            subPageID = subPageID || "player_mobile_register";
//                            abringPageHide();
//                            $("#"+abring.params.player.parent_id+" .page").hide();
//                            $("#"+abring.params.player.parent_id+" ."+subPageID).show();
//                            $.mobile.navigate("#player_page");
//                        }
                    },
//                    "display":{
//                        "showPageFunction":function (subPageID) {
//                            subPageID = subPageID || "player_mobile_register";
//                            abringPageHide();
//                            $("#"+abring.params.player.parent_id+" .page").hide();
//                            $("#"+abring.params.player.parent_id+" ."+subPageID).show();
//
//                            $.mobile.navigate("#"+subPageID);
//                        }
//                    },
                    "ping_time":120,
                    "chat_parent_id":"chats",
//                    "chat_template_parent_id":"chat_template",
                    "chat_show_page_function" : function (target_player_info) {
                        $("#"+abring.params.chat_parent_id+" .player_chat").hide();
                        $("#"+abring.params.chat_parent_id+" .player_chat#chat_"+target_player_info["player_id"]).show();
                        abring.params.display.hidePageFunction();
                        abring.params.current_page = "chats";
                        $.mobile.navigate("#chat_page");
                    },
                    "socketDomain" : '185.116.160.61',
                    "socketPort" : 18000,
                    "socketRetryInterval" : 5
                }
            );
            abring.params.player.pages.other_player_profile.parent_id = "other_player_profile_content";
            abring.params.player.pages.other_player_profile.show =
                    function (other_player_id) {
                        fillOtherPlayerInfo(other_player_id,
                                function (other_player_info) {
                                    $.mobile.navigate("#other_player_profile");
                                },
                                function (x, c, e) {
                                    alert("Failed to fetch player data\n" + e);
                                }
                        );
                    };

            abring.params.display.home.show = function(){
                $.mobile.navigate("#pageone");
            };

            abring.params.player.pages.player_mobile_register.parent_id =
                    "player_mobile_register_content";
            abring.params.player.pages.player_mobile_register.getTheme();
            abring.params.player.pages.player_mobile_register.show =
                    function () {
                        $.mobile.navigate("#player_mobile_register");
                    };

            abring.params.player.pages.player_mobile_verify.parent_id =
                    "player_mobile_verify_content";
            abring.params.player.pages.player_mobile_verify.getTheme();
            abring.params.player.pages.player_mobile_verify.show =
                    function () {
                        $.mobile.navigate("#player_mobile_verify");
                    };
        });
    </script>
</head>
<body>


<div data-role="page" id="pageone">
    <div data-role="panel" id="overlayPanel" data-display="overlay">
        <h2>Overlay Panel</h2>
        <p>
        <div class="my_socket_status"></div>
        <a href="#" class="abring_buttons_my_profile">Profile</a><br>
        <a href="#" class="abring_buttons_leaderboard">Leaderboard</a><br>
        <a href="#" class="abring_buttons_friends_list">Friends</a><br>
        <a href="#posts" class="abring_buttons_posts_timeline">Posts</a><br>
        <a href="#logs" >Log</a><br>
        <a href="#" onclick="socketConnect();" >connect to web socket</a><br>
        </p>
        <a href="#pageone" data-rel="close" class="ui-btn ui-btn-inline ui-shadow ui-corner-all ui-btn-a ui-icon-delete ui-btn-icon-left">Close panel</a>
    </div>

    <div data-role="header">
        <h1>Page Header</h1>
        <a href="#overlayPanel" class="ui-btn ui-btn-inline ui-corner-all ui-shadow">Overlay Panel</a>
    </div>

    <div data-role="main" class="ui-content">
        <button class="start_frog">Start</button>
        <a href="#" onclick="socketConnect();" >connect to web socket</a><br>
        <a href="#" onclick='abring.params.display.info.show("some title","Some desc that is mor longer with largest amount of character to show in dialog box");' >info</a><br>
        <a href="#" onclick='abring.params.display.warning.show("some title","Some desc that is mor longer with largest amount of character to show in dialog box");' >warning</a><br>
        <a href="#" onclick='abring.params.display.loading.show("some title","Some desc that is mor longer with largest amount of character to show in dialog box");' >loading</a><br>
        <a href="#" onclick='abring.params.display.confirm.show("some title","Some desc that is mor longer with largest amount of character to show in dialog box");' >confirm</a><br>
        <a href="#" onclick='abring.params.display.error.show("some title","Some desc that is mor longer with largest amount of character to show in dialog box");' >error</a><br>
        <a href="#" onclick='abring.params.display.tooltip.show("some title","Some desc that is mor longer with largest amount of character to show in dialog box");' >tooltip</a><br>
        <a href="#" onclick='abring.params.player.pages.other_player_profile.show("kia");' >Sow other player info</a><br>
        <a href="#" class="abring_buttons_my_profile">view my profile</a><br>
        <div class="frog_table"></div>
    </div>

    <div data-role="footer">
        <h1>Page Footer</h1>
    </div>
</div>


<div data-role="page" id="chat_page">

    <div data-role="header">
        <h1>chat</h1>
        <a href="#pageone" class="ui-btn ui-btn-inline ui-corner-all ui-shadow">Back</a>
    </div>

    <div data-role="main" class="ui-content">
        <div id="chats"></div>
    </div>

</div>





<div data-role="page" id="other_player_profile">

    <div data-role="header">
        <h1>Other player profile</h1>
        <a href="#pageone" class="ui-btn ui-btn-inline ui-corner-all ui-shadow">Back</a>
    </div>

    <div data-role="main" class="ui-content other_player_profile_content">

    </div>

</div>

<div data-role="page" id="player_mobile_register">

    <div data-role="header">
        <h1>Register by mobile number</h1>
        <a href="#pageone" class="ui-btn ui-btn-inline ui-corner-all ui-shadow">Back</a>
    </div>

    <div data-role="main" class="ui-content player_mobile_register_content">

    </div>

</div>

<div data-role="page" id="player_mobile_verify">

    <div data-role="header">
        <h1>Register by mobile number</h1>
        <a href="#pageone" class="ui-btn ui-btn-inline ui-corner-all ui-shadow">Back</a>
    </div>

    <div data-role="main" class="ui-content player_mobile_verify_content">

    </div>

</div>


<div data-role="page" id="player_page">

    <div data-role="header">
        <h1>Players</h1>
        <a href="#pageone" class="ui-btn ui-btn-inline ui-corner-all ui-shadow">Back</a>
    </div>

    <div data-role="main" class="ui-content">
        <div id="player_content"></div>
    </div>

</div>


<div data-role="page" id="loading">

    <div data-role="main" class="ui-content">
LOADING ...
    </div>

</div>





<div data-role="page" id="posts">

    <div data-role="header">
        <h1>Posts</h1>
        <a href="#pageone" class="ui-btn ui-btn-inline ui-corner-all ui-shadow">Back</a>
    </div>

    <div id="frog_posts" data-role="main" class="ui-content">

    </div>

    <div data-role="footer">
        <h1>Page Footer</h1>
    </div>
</div>

<div data-role="page" id="logs">

    <div data-role="header">
        <h1>Logs</h1>
        <a href="#pageone" class="ui-btn ui-btn-inline ui-corner-all ui-shadow">Back</a>
    </div>

    <div class="ui-content abring_log_preview" data-role="main">

    </div>

    <div data-role="footer">
        <h1>Page Footer</h1>
    </div>
</div>




</body>
</html>
